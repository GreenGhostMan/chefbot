<launch>
	<arg name="static_node" value="1"/>
  <arg name="face_detect" value="0"/>

	<node name="twistToMotors" pkg="chefbot_bringup" type="twist_to_motors" output="screen">
    <remap from="cmd_vel" to="cmd_navigation"/>
  </node>

  <node name="base_controller_node" pkg="chefbot_bringup" type="base_controller">
			<param name="publish_tf" value="false" /> <!-- false for ekf -->
			<param name="use_imu" value="false" /> <!-- false for only encoder -->
      <param name="publish_rate" value="10.0" />
      <param name="linear_scale_positive" value="0.99" />
      <param name="linear_scale_negative" value="0.99" />
      <param name="angular_scale_positive" value="1.0" />
      <param name="angular_scale_negative" value="1.0" />
      <param name="angular_scale_accel" value="0.0" />
      <param name="alpha" value="0.5" />
    <!--
      if (dth > 0) dth *= angular_scale_positive;
    if (dth < 0) dth *= angular_scale_negative;
    if (dxy_ave > 0) dxy_ave *= linear_scale_positive;
    if (dxy_ave < 0) dxy_ave *= linear_scale_negative;
  -->
  </node>

	<group if="$(eval static_node == 1)">
		<node pkg="tf" type="static_transform_publisher"
			name="baselink_imu_tf_publisher" args="0.15 0 0 0 0 0 1  /base_link imu  100"/>
			<node pkg="tf" type="static_transform_publisher"
				name="baselink_android_tf_publisher" args="0 0 0.085 0 0 0 1  /base_link android  100"/>

	</group>

  <group if="$(eval face_detect == 1)">
   <include file="$(find chefbot_facedetection)/launch/start_tracking.launch" />
  </group>

</launch>
